name: win_custom_shell

on: workflow_dispatch

jobs:
  ci:
    runs-on: windows-latest
    steps:
    - name: Shell
      shell: bash
      run: |
        ls -lh $(which bash)
        ls -lh C:\\cygwin64\\bin\\bash
        bash --version
        C:\\cygwin64\\bin\\bash --version

    # NOTE: yq is preinstalled on Windows runners
    # - name: Extract version from YAML
    #   env:
    #     YAML: |
    #       name: test
    #       version: 1.2.3
    #       homepage: https://example.com/test
    #       documentation: https://example.com/test/docs

    #       environment:
    #         sdk: '>=2.12.0 <3.0.0'
    #   shell: bash
    #   run: |
    #     VERSION=$(echo "$YAML" | yq -r '.version')
    #     echo "VERSION: $VERSION"
    #     echo "VERSION=$VERSION" >> "$GITHUB_ENV"

    # - name: Print version
    #   run: |
    #     echo ${{ env.VERSION }}
    #     echo $ENV:VERSION
